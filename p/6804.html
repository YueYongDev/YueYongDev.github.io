<!DOCTYPE html><html lang="[&quot;zh-CN&quot;,&quot;default&quot;]" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>ã€è¯‘ã€‘åœ¨ Android åº”ç”¨ä¸­ä½¿ç”¨çŸ¢é‡èµ„æº | æ–¯æ˜¯é™‹å®¤</title><meta name="keywords" content="æ˜é‡‘ç¿»è¯‘è®¡åˆ’,Android"><meta name="author" content="YueYong"><meta name="copyright" content="YueYong"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><meta name="description" content="åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œ æˆ‘ä»¬ç ”ç©¶äº† Android çš„ VectorDrawable å›¾åƒæ ¼å¼ä»¥åŠå®ƒèƒ½å¤Ÿå®ç°çš„åŠŸèƒ½ï¼š  Understanding Androidâ€™s vector image format: VectorDrawable: Android devices come in all sizes, shapes and screen densities. Thatâ€™s why Iâ€™m a">
<meta property="og:type" content="article">
<meta property="og:title" content="ã€è¯‘ã€‘åœ¨ Android åº”ç”¨ä¸­ä½¿ç”¨çŸ¢é‡èµ„æº">
<meta property="og:url" content="https://blog.liangyueyong.cn/p/6804.html">
<meta property="og:site_name" content="æ–¯æ˜¯é™‹å®¤">
<meta property="og:description" content="åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œ æˆ‘ä»¬ç ”ç©¶äº† Android çš„ VectorDrawable å›¾åƒæ ¼å¼ä»¥åŠå®ƒèƒ½å¤Ÿå®ç°çš„åŠŸèƒ½ï¼š  Understanding Androidâ€™s vector image format: VectorDrawable: Android devices come in all sizes, shapes and screen densities. Thatâ€™s why Iâ€™m a">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://user-gold-cdn.xitu.io/2019/3/22/169a30ca76e5ad48?w=4000&h=1190&f=png&s=66173">
<meta property="article:published_time" content="2021-06-10T11:50:25.296Z">
<meta property="article:modified_time" content="2021-06-10T11:50:25.296Z">
<meta property="article:author" content="YueYong">
<meta property="article:tag" content="æ˜é‡‘ç¿»è¯‘è®¡åˆ’">
<meta property="article:tag" content="Android">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://user-gold-cdn.xitu.io/2019/3/22/169a30ca76e5ad48?w=4000&h=1190&f=png&s=66173"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://blog.liangyueyong.cn/p/6804"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹ï¼š${query}"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  ClickShowText: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  justifiedGallery: {
    js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
    css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
  },
  isPhotoFigcaption: true,
  islazyload: false,
  isanchor: false
};

var saveToLocal = {
  set: function setWithExpiry(key, value, ttl) {
    const now = new Date()
    const expiryDay = ttl * 86400000
    const item = {
      value: value,
      expiry: now.getTime() + expiryDay,
    }
    localStorage.setItem(key, JSON.stringify(item))
  },

  get: function getWithExpiry(key) {
    const itemStr = localStorage.getItem(key)

    if (!itemStr) {
      return undefined
    }
    const item = JSON.parse(itemStr)
    const now = new Date()

    if (now.getTime() > item.expiry) {
      localStorage.removeItem(key)
      return undefined
    }
    return item.value
  }
}</script><script id="config_change">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-06-10 19:50:25'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(function () {  window.activateDarkMode = function () {
    document.documentElement.setAttribute('data-theme', 'dark')
    if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
    }
  }
  window.activateLightMode = function () {
    document.documentElement.setAttribute('data-theme', 'light')
   if (document.querySelector('meta[name="theme-color"]') !== null) {
      document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
    }
  }
  const autoChangeMode = 'false'
  const t = saveToLocal.get('theme')
  if (autoChangeMode === '1') {
    const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
    const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
    const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified
    if (t === undefined) {
      if (isLightMode) activateLightMode()
      else if (isDarkMode) activateDarkMode()
      else if (isNotSpecified || hasNoSupport) {
        const now = new Date()
        const hour = now.getHours()
        const isNight = hour <= 6 || hour >= 18
        isNight ? activateDarkMode() : activateLightMode()
      }
      window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
        if (saveToLocal.get('theme') === undefined) {
          e.matches ? activateDarkMode() : activateLightMode()
        }
      })
    } else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else if (autoChangeMode === '2') {
    const now = new Date()
    const hour = now.getHours()
    const isNight = hour <= 6 || hour >= 18
    if (t === undefined) isNight ? activateDarkMode() : activateLightMode()
    else if (t === 'light') activateLightMode()
    else activateDarkMode()
  } else {
    if (t === 'dark') activateDarkMode()
    else if (t === 'light') activateLightMode()
  }const asideStatus = saveToLocal.get('aside-status')
if (asideStatus !== undefined) {
   if (asideStatus === 'hide') {
     document.documentElement.classList.add('hide-aside')
   } else {
     document.documentElement.classList.remove('hide-aside')
   }
}})()</script><meta name="generator" content="Hexo 5.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://s1.ax1x.com/2020/09/08/wQQcbq.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">163</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">50</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">8</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div></div></div><div id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url(https://user-gold-cdn.xitu.io/2019/3/22/169a30ca76e5ad48?w=4000&amp;h=1190&amp;f=png&amp;s=66173)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">æ–¯æ˜¯é™‹å®¤</a></span><span id="menus"><div id="search_button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> æœç´¢</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> å½’æ¡£</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> å…³äº</span></a></div></div><span class="close" id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></span></span></nav><div id="post-info"><h1 class="post-title">ã€è¯‘ã€‘åœ¨ Android åº”ç”¨ä¸­ä½¿ç”¨çŸ¢é‡èµ„æº</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">å‘è¡¨äº</span><time class="post-meta-date-created" datetime="2021-06-10T11:50:25.296Z" title="å‘è¡¨äº 2021-06-10 19:50:25">2021-06-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">æ›´æ–°äº</span><time class="post-meta-date-updated" datetime="2021-06-10T11:50:25.296Z" title="æ›´æ–°äº 2021-06-10 19:50:25">2021-06-10</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%A4%96%E6%96%87%E7%BF%BB%E8%AF%91/">å¤–æ–‡ç¿»è¯‘</a></span></div><div class="meta-secondline"> <span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">å­—æ•°æ€»è®¡:</span><span class="word-count">2.7k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»æ—¶é•¿:</span><span>9åˆ†é’Ÿ</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"></span></span><span class="post-meta-separator">|</span><span class="post-meta-commentcount"><i class="far fa-comments fa-fw post-meta-icon"></i><span class="post-meta-label">è¯„è®ºæ•°:</span><a href="/p/6804.html#post-comment" itemprop="discussionUrl"><span class="valine-comment-count comment-count" data-xid="/p/6804.html" itemprop="commentCount"></span></a></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p><img src="https://user-gold-cdn.xitu.io/2019/3/22/169a30ca76e5ad48?w=4000&h=1190&f=png&s=66173" alt="Illustration by [Virginia Poltrack](https://twitter.com/VPoltrack)"></p>
<p>åœ¨ä¹‹å‰çš„æ–‡ç« ä¸­ï¼Œ æˆ‘ä»¬ç ”ç©¶äº† Android çš„ <code>VectorDrawable</code> å›¾åƒæ ¼å¼ä»¥åŠå®ƒèƒ½å¤Ÿå®ç°çš„åŠŸèƒ½ï¼š</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/understanding-androids-vector-image-format-vectordrawable-ab09e41d5c68"><strong>Understanding Androidâ€™s vector image format: VectorDrawable</strong>: Android devices come in all sizes, shapes and screen densities. Thatâ€™s why Iâ€™m a huge fan of using resolutionâ€¦</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://medium.com/androiddevelopers/draw-a-path-rendering-android-vectordrawables-89a33b5e5ebf"><strong>Draw a Path: Rendering Android VectorDrawables</strong>: In the previous article, we looked at Androidâ€™s VectorDrawable format, going into its benefits and capabilities.</a></p>
</li>
</ul>
<p>åœ¨è¿™ç¯‡æ–‡ç« ä¸­ï¼Œ æˆ‘ä»¬å°†ä¼šæ·±å…¥ç ”ç©¶å¦‚ä½•åœ¨ä½ çš„ app ä¸­åº”ç”¨è¿™äº›çŸ¢é‡èµ„æºã€‚ <code>VectorDrawable</code> æ˜¯åœ¨ Lollipopï¼ˆAPI 21ï¼‰ä¸­å¼•å…¥çš„ï¼Œ ä¹Ÿå¯ä»¥åœ¨ AndroidX ä¸­ä½¿ç”¨ï¼ˆä½œä¸º <code>VectorDrawableCompat</code> ï¼‰ï¼Œ å¯ä»¥å‘ä¸‹å…¼å®¹åˆ° API 14ï¼ˆè¿™ä½¿å…¶å¯ä»¥è¦†ç›–è¶…è¿‡ <a target="_blank" rel="noopener" href="https://developer.android.com/about/dashboards/">99ï¼… çš„è®¾å¤‡</a>ï¼‰ã€‚ æœ¬æ–‡å°†æ¦‚è¿°ä¸€äº›èƒ½çœŸæ­£åœ¨ä½ çš„åº”ç”¨ä¸­ä½¿ç”¨ <code>VectorDrawables</code> çš„å»ºè®®ã€‚</p>
<h2 id="é¦–å…ˆæ˜¯-AndroidX"><a href="#é¦–å…ˆæ˜¯-AndroidX" class="headerlink" title="é¦–å…ˆæ˜¯ AndroidX"></a>é¦–å…ˆæ˜¯ AndroidX</h2><p>ä» Lollipop å¼€å§‹ï¼Œ ä½ å¯ä»¥åœ¨ä»»ä½•éœ€è¦ä½¿ç”¨å…¶ä»–å¯ç»˜åˆ¶ç±»å‹çš„åœ°æ–¹ä½¿ç”¨ <code>VectorDrawables</code> ï¼ˆä½¿ç”¨æ ‡å‡†çš„ <code>@drawable/foo</code> è¯­æ³•å¼•ç”¨å®ƒä»¬ï¼‰ï¼Œ ä½†æ˜¯æˆ‘å»ºè®®<strong>å§‹ç»ˆ</strong>ä½¿ç”¨ AndroidX å®ç°ã€‚</p>
<p>è¿™ä¼šæ˜¾è‘—å¢åŠ å…¶ä½¿ç”¨å¹³å°çš„èŒƒå›´ï¼Œ ä¸ä»…å¦‚æ­¤ï¼Œ å®ƒè¿˜æ”¯æŒå°†ç‰¹æ€§å’Œ bug ä¿®å¤ç¨‹åºå‘åç§»æ¤åˆ°æ—§å¹³å°ã€‚ ä¾‹å¦‚ï¼Œ ä½¿ç”¨ AndroidX ä¸­çš„ <code>VectorDrawableCompat</code> å¯ä»¥ï¼š</p>
<ul>
<li><code>nonZero</code> å’Œ <code>evenOdd</code> è·¯å¾„ <code>fillTypes</code> â€”â€” <a target="_blank" rel="noopener" href="https://www.sitepoint.com/understanding-svg-fill-rule-property/">å®šä¹‰å½¢çŠ¶â€œå†…éƒ¨â€</a>çš„ä¸¤ç§å¸¸è§æ–¹æ³•ï¼Œ é€šå¸¸ç”¨äº SVGsï¼ˆ <code>evenOdd</code> åœ¨ API 24 ä¸­å¾—ä»¥å®ç°ï¼‰</li>
<li>æ¸å˜ï¼ˆGradientï¼‰&amp; <code>ColorStateList</code> å¡«å…… / ç”»ç¬”ï¼ˆåœ¨ API 24 ä¸­è¢«æ·»åŠ å®ç°ï¼‰</li>
<li>Bug ä¿®å¤</li>
</ul>
<p>äº‹å®ä¸Šï¼Œ AndroidX å°†ä½¿ç”¨ compat å®ç°ï¼Œ ç”šè‡³åœ¨ä¸€äº›å­˜åœ¨æœ¬åœ°å®ç°çš„å¹³å°ä¸Šï¼ˆ<a target="_blank" rel="noopener" href="https://android.googlesource.com/platform/frameworks/support/+/androidx-master-dev/appcompat/src/main/java/androidx/appcompat/widget/AppCompatDrawableManager.java#100">å½“å‰æ˜¯ api 21-23</a>ï¼‰ä¹Ÿå¯ä»¥å®ç°ä¸Šè¿°ä¼˜ç‚¹ã€‚ å¦åˆ™ï¼Œ å®ƒå°†å§”æ‰˜ç»™å¹³å°å®ç°ï¼Œ å› æ­¤ä»ç„¶å¯ä»¥æ¥æ”¶å¯¹æ–°ç‰ˆæœ¬çš„ä»»ä½•æ”¹è¿›ï¼ˆä¾‹å¦‚ï¼Œ ä¸ºäº†æé«˜æ€§èƒ½ï¼Œ <code>VectorDrawable</code> åœ¨ API 24 çš„ C ä¸­é‡æ–°å®ç°)ã€‚</p>
<p>åŸºäºè¿™äº›åŸå› ï¼Œ ä½ åº”è¯¥<strong>å§‹ç»ˆ</strong>ä½¿ç”¨ AndroidXï¼Œ å³ä½¿ä½ å¾ˆå¹¸è¿åœ°å°†ä½ çš„ <code>minSdkVersion</code> è®¾ç½®æˆ 24ã€‚ è¿™æ²¡ä»€ä¹ˆä¸å¥½çš„ï¼Œ å¦‚æœ/å½“ <code>VectorDrawable</code> åœ¨æœªæ¥æ‰©å±•äº†æ–°çš„åŠŸèƒ½ï¼Œ å¹¶ä¸”å®ƒä»¬ä¹Ÿè¢«æ·»åŠ åˆ° AndroidX ä¸­ï¼Œ é‚£ä¹ˆå®ƒä»¬å°±å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼Œ è€Œä¸éœ€è¦é‡æ–°æ£€æŸ¥ä»£ç ã€‚</p>
<p><a href="undefined">Alex Lockwood</a> <strong>æ˜¯è¿™ä¹ˆè¯´çš„</strong>ï¼š</p>
<p><img src="https://user-gold-cdn.xitu.io/2019/3/22/169a30ca4b5aa12d?w=1100&h=714&f=png&s=110251"></p>
<h2 id="æ€ä¹ˆä½¿ç”¨ï¼Ÿ"><a href="#æ€ä¹ˆä½¿ç”¨ï¼Ÿ" class="headerlink" title="æ€ä¹ˆä½¿ç”¨ï¼Ÿ"></a>æ€ä¹ˆä½¿ç”¨ï¼Ÿ</h2><p>ä¸ºäº†ä½¿ç”¨ AndroidX çŸ¢é‡æ”¯æŒï¼ˆAndroidX vector supportï¼‰ï¼Œ ä½ éœ€è¦åš 2 ä»¶äº‹æƒ…ï¼š</p>
<h3 id="1-å¼€å¯æ”¯æŒ"><a href="#1-å¼€å¯æ”¯æŒ" class="headerlink" title="1. å¼€å¯æ”¯æŒ"></a>1. å¼€å¯æ”¯æŒ</h3><p>æ‚¨éœ€è¦åœ¨åº”ç”¨çš„ <code>build.gradle</code> ä¸­é€‰æ‹©åŠ å…¥ <code>AndroidX</code> çŸ¢é‡æ”¯æŒï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    defaultConfig &#123;</span><br><span class="line">        vectorDrawables.useSupportLibrary &#x3D; true</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¦‚æœ <code>minSdkVersion</code> &lt; 21ï¼Œ è¿™æ„å‘³ç€ Android Gradle æ’ä»¶æ— æ³•<a target="_blank" rel="noopener" href="https://developer.android.com/studio/write/vector-asset-studio#apilevel">ç”ŸæˆçŸ¢é‡èµ„æºçš„ PNG ç‰ˆæœ¬</a> â€”â€” å¦‚æœæˆ‘ä»¬ä½¿ç”¨ AndroidX åº“çš„è¯å°±ä¸ç”¨æ‹…å¿ƒè¿™ä¸ªé—®é¢˜ã€‚</p>
<p>é€šè¿‡é»˜è®¤çš„ <a target="_blank" rel="noopener" href="https://developer.android.com/studio/command-line/aapt2">AAPT</a>ï¼ˆAndroid èµ„äº§åŒ…è£…å·¥å…·ï¼‰ç‰ˆæœ¬èµ„æºã€‚ å®ƒä¹Ÿè¢«ä¼ é€’ç»™æ„å»ºå·¥å…·é“¾ã€‚ è¿™æ„å‘³ç€ï¼Œ å¦‚æœä½ åœ¨ <code>res/drawable/</code> ä¸­å£°æ˜ä¸€ä¸ª <code>VectorDrawable</code> ï¼Œ å®ƒä¼šä¸ºä½ å°†å…¶è‡ªåŠ¨ç§»åŠ¨åˆ° <code>res/drawable-v21/</code> ï¼Œ å› ä¸ºç³»ç»ŸçŸ¥é“è¿™å°±æ˜¯ <code>VectorDrawable</code> ç±»è¢«å¼•å…¥çš„æ—¶å€™ã€‚</p>
<blockquote>
<p>è¿™å¯ä»¥é˜²æ­¢å±æ€§ ID å†²çª â€”â€” åœ¨ <code>VectorDrawables</code> ä¸­ä½¿ç”¨çš„å±æ€§ï¼ˆ <code>android:pathData</code> ï¼Œ <code>android:fillColor</code> ç­‰)éƒ½æœ‰ä¸€ä¸ªæ•´æ•° IDï¼Œ è¿™äº› ID æ˜¯åœ¨ API 21 ä¸­æ·»åŠ çš„ã€‚ åœ¨è€ç‰ˆæœ¬çš„ Android ä¸Šï¼Œ æ²¡æœ‰ä»»ä½•ä¸œè¥¿å¯ä»¥é˜»æ­¢ OEM ä½¿ç”¨ä»»ä½•â€æ— äººè®¤é¢†â€çš„ IDï¼Œ å› æ­¤åœ¨è¾ƒè€çš„å¹³å°ä¸Šä½¿ç”¨è¾ƒæ–°çš„å±æ€§æ˜¯ä¸å®‰å…¨çš„ã€‚</p>
</blockquote>
<p>è¿™ç§ç‰ˆæœ¬æ§åˆ¶å°†é˜»æ­¢åœ¨è¾ƒè€çš„å¹³å°ä¸Šè®¿é—®è¿™äº›èµ„æºï¼Œ ä½¿åç¼–è¯‘æˆä¸ºä¸å¯èƒ½çš„äº‹æƒ… â€”â€” gradle æ ‡å¿—ç¦ç”¨äº†å¯ç»˜åˆ¶å¯¹è±¡èµ„æºï¼ˆvector drawablesï¼‰çš„ç‰ˆæœ¬æ§åˆ¶ã€‚ è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ ä½¿ç”¨ <code>android:pathData</code> å¼•å…¥ä½ çš„å‘é‡è€Œä¸æ˜¯å¿…é¡»åˆ‡æ¢åˆ° <code>app:pathData</code> ç­‰å…¶ä»–åç§»åŠŸèƒ½ã€‚</p>
<h3 id="2-ä½¿ç”¨-AndroidX-åŠ è½½"><a href="#2-ä½¿ç”¨-AndroidX-åŠ è½½" class="headerlink" title="2. ä½¿ç”¨ AndroidX åŠ è½½"></a>2. ä½¿ç”¨ AndroidX åŠ è½½</h3><p>å½“åŠ è½½ drawables æ—¶ï¼Œ ä½ éœ€è¦ä½¿ç”¨ AndroidX çš„æ–¹æ³•ï¼Œ å› ä¸ºå®ƒå·²ç»æä¾›äº†å¯¹çŸ¢é‡èµ„æºçš„æ”¯æŒã€‚ è¿™ä¸ªçš„åˆ‡å…¥ç‚¹æ˜¯å§‹ç»ˆåˆ©ç”¨ [ <code>AppCompatResources.getDrawable</code> ](<a target="_blank" rel="noopener" href="https://developer.android.com/reference/androidx/appcompat/content/res/AppCompatResources.html#getDrawable">https://developer.android.com/reference/androidx/appcompat/content/res/AppCompatResources.html#getDrawable</a>(android.content. Context, %20int)) åŠ è½½ drawablesã€‚ è™½ç„¶æœ‰è®¸å¤šæ–¹æ³•å¯ä»¥åŠ è½½ drawablesï¼ˆå› ä¸ºæŸäº›åŸå› ï¼‰ï¼Œ ä½†æ˜¯å¦‚æœä½ æƒ³ä½¿ç”¨ compat å‘é‡ï¼Œ å°±å¿…é¡»ä½¿ç”¨ AppCompatResourcesã€‚ å¦‚æœä½ åšä¸åˆ°è¿™ä¸€ç‚¹ï¼Œ é‚£ä¹ˆä½ å°±ä¸èƒ½è¿æ¥åˆ° AndroidX ä»£ç è·¯å¾„ï¼Œ å½“ä½ å°è¯•ä½¿ç”¨ä»»ä½•ä½ è¿è¡Œçš„å¹³å°ä¸æ”¯æŒçš„åŠŸèƒ½æ—¶ï¼Œ ä½ çš„åº”ç”¨ç¨‹åºå¯èƒ½ä¼šå´©æºƒã€‚</p>
<blockquote>
<p><code>VectorDrawableCompat</code> è¿˜æä¾›äº†ä¸€ä¸ª <code>create</code> æ–¹æ³•ã€‚ æˆ‘æ€»æ˜¯ä¼šå»ºè®®ä½¿ç”¨ <code>AppCompatResources</code> ï¼Œ å› ä¸ºè¿™ä¼šå¢åŠ ä¸€å±‚ç¼“å­˜ã€‚</p>
</blockquote>
<p>å¦‚æœä½ æƒ³ä»¥å£°æ˜çš„æ–¹å¼è®¾ç½® drawablesï¼ˆå³åœ¨ä½ çš„å¸ƒå±€ä¸­ï¼‰ï¼Œ <code>appcompat</code> æä¾›äº†ä¸€äº› <code>Compat</code> å±æ€§ï¼Œ ä½ åº”è¯¥ä½¿ç”¨è¿™äº›å±æ€§è€Œä¸æ˜¯æ ‡å‡†çš„å¹³å°å±æ€§ï¼š</p>
<p><code>ImageView</code> ï¼Œ <code>ImageButton</code> ï¼š</p>
<ul>
<li>ä¸è¦ä½¿ç”¨ï¼š <code>android:src</code></li>
<li>åº”è¯¥ä½¿ç”¨ï¼š <code>app:srcCompat</code></li>
</ul>
<p><code>CheckBox</code> ï¼Œ <code>RadioButton</code> ï¼š</p>
<ul>
<li>ä¸è¦ä½¿ç”¨ï¼š <code>android:button</code></li>
<li>åº”è¯¥ä½¿ç”¨ï¼š <code>app:buttonCompat</code></li>
</ul>
<p><code>TextView</code> ï¼ˆ<a target="_blank" rel="noopener" href="https://developer.android.com/jetpack/androidx/androidx-rn#2018-dec-03-appcompat">as of <code>appcompat:1.1.0</code> </a>ï¼‰ï¼š</p>
<ul>
<li>ä¸è¦ä½¿ç”¨ï¼š <code>android:drawableStart</code> å’Œ <code>android:drawableTop</code> ç­‰</li>
<li>åº”è¯¥ä½¿ç”¨ï¼š <code>app:drawableStartCompat</code> å’Œ <code>app:drawableTopCompat</code> ç­‰</li>
</ul>
<p>ç”±äºè¿™äº›å±æ€§æ˜¯ <code>appcompat</code> åº“çš„ä¸€éƒ¨åˆ†ï¼Œ è¯·ç¡®ä¿ä½¿ç”¨ app: namespaceã€‚ åœ¨å†…éƒ¨ï¼Œ è¿™äº› <code>AppCompat</code> è§†å›¾ä½¿ç”¨ <code>AppCompatResources</code> æ¥æ”¯æŒåŠ è½½çŸ¢é‡çš„åŠ è½½ã€‚</p>
<blockquote>
<p>å¦‚æœä½ æƒ³äº†è§£ <code>appcompat</code> å¦‚ä½•äº¤æ¢å‡º <code>TextView</code> ï¼Œ æˆ–è€…å£°æ˜äº†ä¸€ä¸ªå¯ç”¨æ­¤åŠŸèƒ½çš„ <code>AppCompatTextView</code> ç­‰ï¼Œ ä½ å¯ä»¥æŸ¥çœ‹è¿™ç¯‡æ–‡ç« ï¼š <a target="_blank" rel="noopener" href="https://helw.net/2018/08/06/appcompat-view-inflation/">https://helw.net/2018/08/06/appcompat-view-inflation/</a></p>
</blockquote>
<h2 id="å®æˆ˜"><a href="#å®æˆ˜" class="headerlink" title="å®æˆ˜"></a>å®æˆ˜</h2><p>è¿™äº›è¦æ±‚ä¼šå½±å“ä½ åˆ›å»ºå¸ƒå±€æˆ–è®¿é—®èµ„æºæ‰€ä½¿ç”¨çš„æ–¹å¼ã€‚ ä»¥ä¸‹æ˜¯ä¸€äº›è€ƒè™‘åˆ°çš„å®é™…å› ç´ ã€‚</p>
<h3 id="æ²¡æœ‰-compat-å±æ€§çš„è§†å›¾"><a href="#æ²¡æœ‰-compat-å±æ€§çš„è§†å›¾" class="headerlink" title="æ²¡æœ‰ compat å±æ€§çš„è§†å›¾"></a>æ²¡æœ‰ compat å±æ€§çš„è§†å›¾</h3><p>ä¸å¹¸çš„æ˜¯ï¼Œ æœ‰å¾ˆå¤šåœ°æ–¹ä½ å¯èƒ½æƒ³è¦åœ¨ä¸æä¾› compat å±æ€§çš„è§†å›¾ä¸ŠæŒ‡å®š drawablesï¼ˆä¾‹å¦‚ï¼Œ å¯¹äº <code>progressbar</code> æ¥è¯´æ²¡æœ‰ <code>indeterminateDrawableCompat</code> å±æ€§ï¼‰ã€‚ ä½ ä»ç„¶å¯ä»¥ä½¿ç”¨ AndroidX vectorsï¼Œ ä½†ä½ éœ€è¦å¯¹ä»£ç ä½œå¦‚ä¸‹æ›´æ”¹:</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;* Copyright 2018 Google LLC.</span><br><span class="line">   SPDX-License-Identifier: Apache-2.0 *&#x2F;</span><br><span class="line">val progressBar &#x3D; findViewById &lt; ProgressBar &gt; (R.id.loading)</span><br><span class="line">val drawable &#x3D; AppCompatResources.getDrawable(context, R.drawable.loading_indeterminate)</span><br><span class="line">progressBar.indeterminateDrawable &#x3D; drawable</span><br></pre></td></tr></table></figure>

<p>å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨<a target="_blank" rel="noopener" href="https://developer.android.com/topic/libraries/data-binding/">æ•°æ®ç»‘å®š</a>ï¼Œ é‚£ä¹ˆå¯ä»¥ä½¿ç”¨è‡ªå®šä¹‰ç»‘å®šé€‚é…å™¨æ¥å®Œæˆæ­¤æ“ä½œï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&#x2F;* Copyright 2018 Google LLC.</span><br><span class="line">   SPDX-License-Identifier: Apache-2.0 *&#x2F;</span><br><span class="line">@BindingAdapter(&quot;indeterminateDrawableCompat&quot;)</span><br><span class="line">fun bindIndeterminateProgress(progressBar: ProgressBar, @DrawableRes id: Int) &#123;</span><br><span class="line">    val drawable &#x3D; AppCompatResources.getDrawable(progressBar.context, id)</span><br><span class="line">    progressBar.indeterminateDrawable &#x3D; drawable</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¯·æ³¨æ„ï¼Œ æˆ‘ä»¬ä¸å¸Œæœ›æ•°æ®ç»‘å®šä¸ºæˆ‘ä»¬åŠ è½½ drawableï¼ˆå› ä¸ºå®ƒ<strong>ç›®å‰</strong>ä¸ä½¿ç”¨ <code>AppCompatResources</code> æ¥åŠ è½½ drawablesï¼‰ï¼Œ æ‰€ä»¥ä¸èƒ½åƒ <code>@ &#123;@ drawable / foo&#125;</code> é‚£æ ·ç›´æ¥å¼•ç”¨ drawableã€‚ ç›¸åï¼Œ å¦‚æœæˆ‘ä»¬æƒ³å°† drawable <strong>id</strong> ä¼ é€’ç»™ç»‘å®šé€‚é…å™¨ï¼Œ å› æ­¤éœ€è¦å¯¼å…¥ <code>R</code> æ¥å¼•ç”¨å®ƒï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- Copyright 2018 Google LLC.</span><br><span class="line">SPDX - License - Identifier: Apache - 2.0 --&gt;</span><br><span class="line">    &lt;</span><br><span class="line">    layout... &gt;</span><br><span class="line">    &lt;</span><br><span class="line">    data &gt;</span><br><span class="line">    &lt;</span><br><span class="line">    import type &#x3D; &quot;your.package.R&quot;</span><br><span class="line">alias &#x3D; &quot;R&quot; &#x2F; &gt;</span><br><span class="line">    ...</span><br><span class="line">    &lt;</span><br><span class="line">    &#x2F;data&gt;</span><br><span class="line"></span><br><span class="line">    &lt;</span><br><span class="line">    ProgressBar...</span><br><span class="line">    app: indeterminateDrawableCompat &#x3D; &quot;@&#123;R.drawable.foo&#125;&quot; &#x2F; &gt;</span><br><span class="line"></span><br><span class="line">    &lt;</span><br><span class="line">    &#x2F;layout&gt;</span><br></pre></td></tr></table></figure>

<h3 id="åµŒå¥—çš„-drawables"><a href="#åµŒå¥—çš„-drawables" class="headerlink" title="åµŒå¥—çš„ drawables"></a>åµŒå¥—çš„ drawables</h3><p>æœ‰äº› <code>drawable</code> æ˜¯å¯åµŒå¥—çš„ï¼Œ ä¾‹å¦‚ <code>StateListDrawables</code> ï¼Œ <code>InsetDrawables</code> æˆ– <code>LayerDrawables</code> å‡åŒ…å«å…¶ä»–å­ drawableã€‚ AndroidX æ”¯æŒæ˜¾å¼æ¸²æŸ“ <code>&lt;vector&gt;</code> å…ƒç´ ï¼ˆä¹ŸåŒ…æ‹¬åŠ¨ç”»å‘é‡ï¼ˆ <code>animated-vector</code> ï¼‰å’ŒåŠ¨ç”»é€‰æ‹©å™¨ï¼ˆ <code>animated-selectors</code> ï¼‰ï¼Œ ä½†æˆ‘ä»¬ä»Šå¤©ä¸»è¦è®¨è®ºé™æ€ vectorsï¼‰ã€‚ å½“ä½ è°ƒç”¨ <code>AppCompatResources.getDrawable</code> ï¼Œ å®ƒç”¨ç»™å®šçš„ <code>id</code> æŸ¥çœ‹èµ„æºï¼Œ å¦‚æœå®ƒæ˜¯ä¸€ä¸ªå‘é‡ï¼ˆå³æ ¹å…ƒç´ æ˜¯ <code>&lt;vector&gt;</code> ï¼‰ï¼Œ å®ƒå°±ä¼šæ‰‹åŠ¨åœ°ä¸ºä½ åŠ è½½å®ƒã€‚ å¦åˆ™ï¼Œ å®ƒå°±ä¼šæŠŠå®ƒäº¤ç»™ç³»ç»ŸåŠ è½½â€”â€”è¿™æ ·åšçš„æ—¶å€™ï¼Œ AndroidX å°±æ— æ³•å°†è‡ªå·±é‡æ–°æ’å…¥åˆ°è¿›ç¨‹ä¸­ã€‚ è¿™æ„å‘³ç€ï¼Œ å¦‚æœä½ æœ‰ä¸€ä¸ªåŒ…å«å‘é‡çš„ <code>InsetDrawable</code> ï¼Œ å¹¶åˆ©ç”¨ <code>AppCompatResources</code> åŠ è½½å®ƒï¼Œ å®ƒå°†æ ¹æ® <code>&lt;inset&gt;</code> æ ‡è®°ï¼Œ ç„¶åå°†å®ƒäº¤ç»™å¹³å°æ¥åŠ è½½ã€‚ å› æ­¤ï¼Œ å®ƒå°†æ²¡æœ‰æœºä¼šåŠ è½½åµŒå¥—çš„ <code>&lt;vector&gt;</code> ï¼Œ å› æ­¤è¦ä¹ˆåŠ è½½å¤±è´¥ï¼ˆåœ¨ API &lt;21 ä¸Šï¼‰ï¼Œ è¦ä¹ˆè¿”å›åˆ°å¹³å°æ”¯æŒã€‚</p>
<p>è¦è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œ å¯ä»¥åœ¨ä»£ç ä¸­åˆ›å»º <code>drawables</code> ï¼› ä¹Ÿå°±æ˜¯è¯´ï¼Œ ä½¿ç”¨ <code>AppCompatResources</code> åŠ è½½çŸ¢é‡èµ„æºï¼Œ ç„¶åæ‰‹åŠ¨åˆ›å»º <code>InsetDrawable</code> æ ¼å¼çš„ drawableã€‚</p>
<p>æœ‰ä¸€ä¸ªä¾‹å¤–æ˜¯ AndroidX æœ€è¿‘æ·»åŠ äº†ä¸€ä¸ªæ–°åŠŸèƒ½ï¼ˆä» <a target="_blank" rel="noopener" href="https://developer.android.com/jetpack/androidx/androidx-rn#1.0.0-new"> <code>appcompat:1.0.0</code> </a> å¼€å§‹ï¼‰â€”â€” <a target="_blank" rel="noopener" href="https://developer.android.com/reference/androidx/appcompat/graphics/drawable/AnimatedStateListDrawableCompat"> <code>AnimatedStateListDrawables</code> </a> å‘åç§»æ¤ï¼ˆè¯‘è€…æ³¨ï¼š åŸæ–‡æ˜¯ back-ported ï¼Œ Wikipedia ä¸Šè§£é‡Šæ˜¯ <code>æŠŠæ–°ç‰ˆæœ¬ä¸Šçš„ä¸œè¥¿ç§»æ¤åˆ°è€ç‰ˆæœ¬ä¸Šå»</code> ï¼Œ è¿™é‡Œç¿»è¯‘æˆå‘åç§»æ¤ï¼‰ã€‚ è¿™æ˜¯ <code>StateListDrawable</code> çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œ å…·æœ‰çŠ¶æ€ä¹‹é—´çš„åŠ¨ç”»è½¬æ¢(ä»¥ <code>AnimatedVectorDrawables</code> çš„å½¢å¼)ã€‚ ä½ ä¸éœ€è¦ç”³æ˜ä¸€ä¸ªè¿‡æ¸¡ã€‚ å› æ­¤ï¼Œ å¦‚æœä½ åªéœ€è¦ä¸€ä¸ªå¯ä»¥ä½¿ç”¨ AndroidX æ¥æ‰©å……å­å‘é‡çš„ <code>StateListDrawable</code> ï¼Œ é‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">&lt;!-- Copyright 2018 Google LLC.</span><br><span class="line">SPDX - License - Identifier: Apache - 2.0 --&gt;</span><br><span class="line">    &lt;</span><br><span class="line">    animated - selector... &gt;</span><br><span class="line">    &lt;</span><br><span class="line">    item android: state_foo &#x3D; &quot;true&quot;</span><br><span class="line">android: drawable &#x3D; &quot;@drawable&#x2F;some_vector&quot; &#x2F; &gt;</span><br><span class="line">    &lt;</span><br><span class="line">    item android: drawable &#x3D; &quot;@drawable&#x2F;some_other_vector&quot; &#x2F; &gt;</span><br><span class="line">    &lt;!-- no transitions specified --&gt;</span><br><span class="line">    &lt;</span><br><span class="line">    &#x2F;animated-selector&gt;</span><br></pre></td></tr></table></figure>

<p>ä¸€åˆ‡éƒ½å½’åŠŸäºè¿™ä¸ªå¤©æ‰é»‘å®¢ï¼š <a target="_blank" rel="noopener" href="https://twitter.com/alexjlockwood/status/1029088247131996160">https://twitter.com/alexjlockwood/status/1029088247131996160</a></p>
<blockquote>
<p>æœ‰ä¸€ç§æ–¹æ³•å¯ä»¥åœ¨åµŒå¥—çš„ drawable ä¸­å¯ç”¨çŸ¢é‡ï¼Œ é€šè¿‡ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/support/v7/app/AppCompatDelegate.html#setCompatVectorFromResourcesEnable">AppCompatDelegate#setCompatVectorFromResourcesEnabled</a>ï¼Œ ä½†å®ƒæœ‰è®¸å¤šç¼ºç‚¹ã€‚ åŠ¡å¿…ä»”ç»†é˜…è¯» javadocã€‚</p>
</blockquote>
<h3 id="è¿›ç¨‹å¤–åŠ è½½"><a href="#è¿›ç¨‹å¤–åŠ è½½" class="headerlink" title="è¿›ç¨‹å¤–åŠ è½½"></a>è¿›ç¨‹å¤–åŠ è½½</h3><p>æœ‰æ—¶ä½ éœ€è¦åœ¨æ— æ³•æ§åˆ¶ä½•æ—¶æˆ–å¦‚ä½•åŠ è½½çš„åœ°æ–¹ä½¿ç”¨ drawableã€‚ ä¾‹å¦‚ï¼š é€šçŸ¥ï¼Œ ä¸»å±å¹•å°éƒ¨ä»¶æˆ–ä¸»é¢˜ä¸­æŒ‡å®šçš„æŸäº›èµ„æºï¼ˆä¾‹å¦‚ï¼Œ åœ¨åˆ›å»ºé¢„è§ˆçª—å£æ—¶è®¾ç½®ç”±å¹³å°åŠ è½½çš„ <code>androidï¼šwindowBackground</code> ï¼‰ã€‚ åœ¨è¿™äº›æƒ…å†µä¸‹ï¼Œ ä½ ä¸è´Ÿè´£åŠ è½½ drawableï¼Œ å› æ­¤æ²¡æœ‰æœºä¼šé›†æˆ AndroidX æ”¯æŒï¼Œ ä½ ä¹Ÿå°±æ— æ³•åœ¨ API 21 ä¹‹å‰ä½¿ç”¨è¿™äº›çŸ¢é‡èµ„æºäº† ğŸ˜ã€‚</p>
<p>ä½ å½“ç„¶å¯ä»¥åœ¨ API 21+ ä¸Šä½¿ç”¨ vectorsï¼Œ ä½†è¯·æ³¨æ„ï¼Œ ä½ å¯èƒ½ä¸å–œæ¬¢ AndroidX æä¾›çš„åŠŸèƒ½/é”™è¯¯ä¿®æ­£ã€‚ ä¾‹å¦‚ï¼Œ è™½ç„¶ AndroidX å¯¹ <code>fillType=&quot;evenOdd&quot;</code> æ”¯æŒçš„å¾ˆå¥½ï¼Œ ä½†æ˜¯åœ¨ API 21-23 è®¾å¤‡ä¸Šä¸ä½¿ç”¨ AndroidX æ”¯æŒå‘é‡æ˜¯æ— æ³•ç†è§£è¿™ä¸ªå±æ€§çš„ã€‚ å¯¹äºè¿™ä¸ªå…·ä½“çš„ä¾‹å­ï¼Œ æˆ‘å°†åœ¨ä¸‹ä¸€ç¯‡æ–‡ç« ä¸­ä»‹ç»å¦‚ä½•åœ¨è®¾è®¡æ—¶è½¬æ¢ fillTypeã€‚ å¦åˆ™ï¼Œ ä½ å¯èƒ½éœ€è¦ä¸ºä¸åŒçš„ API å‡†å¤‡ä¸åŒçš„èµ„æºäº†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">res &#x2F;</span><br><span class="line">    drawable - xxhdpi &#x2F;</span><br><span class="line">    foo.png &lt; --raster</span><br><span class="line">drawable - anydpi - v21 &#x2F;</span><br><span class="line">    foo.xml &lt; --vector</span><br><span class="line">drawable - anydpi - v24 &#x2F;</span><br><span class="line">    foo.xml &lt; --vector with fancy features</span><br></pre></td></tr></table></figure>

<p>è¯·æ³¨æ„ï¼Œ é™¤äº† api çº§åˆ«é™å®šç¬¦ä¹‹å¤–ï¼Œ æˆ‘ä»¬è¿˜éœ€è¦åœ¨æ­¤å¤„åŒ…å« <code>anydpi</code> èµ„æºé™å®šç¬¦ã€‚ è¿™æ˜¯ç”±äº<a target="_blank" rel="noopener" href="https://developer.android.com/guide/topics/resources/providing-resources#BestMatch">èµ„æºé™å®šç¬¦ä¼˜å…ˆçº§</a>çš„å·¥ä½œæ–¹å¼å¯¼è‡´çš„ã€‚ ä»»ä½•åœ¨ <code>drawable- &lt;whatever&gt; dpi</code> ä¸­çš„èµ„æºéƒ½è¢«è®¤ä¸ºæ˜¯æ¯”åœ¨ <code>drawable-v21</code> æ›´å¥½çš„é€‰æ‹©ã€‚</p>
<h2 id="X-æ ‡è®°ç‚¹"><a href="#X-æ ‡è®°ç‚¹" class="headerlink" title="X æ ‡è®°ç‚¹"></a>X æ ‡è®°ç‚¹</h2><p>æœ¬æ–‡æ—¨åœ¨å¼ºè°ƒä½¿ç”¨ AndroidX çŸ¢é‡æ”¯æŒï¼ˆAndroidX vector supportï¼‰çš„å¥½å¤„ä»¥åŠä¸€äº›ä½ éœ€è¦æ³¨æ„çš„é™åˆ¶ã€‚ ä½¿ç”¨ AndroidX æ”¯æŒæ—¢å¯ä»¥åœ¨æ›´å¤šå¹³å°ç‰ˆæœ¬å’Œåç«¯åŠŸèƒ½ä¸Šä½¿ç”¨çŸ¢é‡èµ„æºï¼Œ ä¹Ÿå¯ä»¥è®©ä½ æ¥æ”¶ä»»ä½•æœªæ¥çš„æ›´æ–°ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å·²ç»ç†è§£äº†ä¸ºä»€ä¹ˆä»¥åŠå¦‚ä½•ä½¿ç”¨å‘é‡ï¼Œ ä¸‹ä¸€ç¯‡æ–‡ç« å°†æ·±å…¥æ¢è®¨å¦‚ä½•åˆ›å»ºå®ƒä»¬ã€‚</p>
<p>å³å°†æ¨å‡ºï¼š ä¸º Android åˆ›å»ºçŸ¢é‡èµ„æº</p>
<p>å³å°†æ¨å‡ºï¼š <code> Android VectorDrawables</code> åˆ†æ</p>
<blockquote>
<p>å¦‚æœå‘ç°è¯‘æ–‡å­˜åœ¨é”™è¯¯æˆ–å…¶ä»–éœ€è¦æ”¹è¿›çš„åœ°æ–¹ï¼Œ æ¬¢è¿åˆ° <a target="_blank" rel="noopener" href="https://github.com/xitu/gold-miner">æ˜é‡‘ç¿»è¯‘è®¡åˆ’</a> å¯¹è¯‘æ–‡è¿›è¡Œä¿®æ”¹å¹¶ PRï¼Œ ä¹Ÿå¯è·å¾—ç›¸åº”å¥–åŠ±ç§¯åˆ†ã€‚ æ–‡ç« å¼€å¤´çš„ <strong>æœ¬æ–‡æ°¸ä¹…é“¾æ¥</strong> å³ä¸ºæœ¬æ–‡åœ¨ GitHub ä¸Šçš„ MarkDown é“¾æ¥ã€‚</p>
</blockquote>
<hr>
<blockquote>
<p><a target="_blank" rel="noopener" href="https://github.com/xitu/gold-miner">æ˜é‡‘ç¿»è¯‘è®¡åˆ’</a> æ˜¯ä¸€ä¸ªç¿»è¯‘ä¼˜è´¨äº’è”ç½‘æŠ€æœ¯æ–‡ç« çš„ç¤¾åŒºï¼Œ æ–‡ç« æ¥æºä¸º <a target="_blank" rel="noopener" href="https://juejin.im/">æ˜é‡‘</a> ä¸Šçš„è‹±æ–‡åˆ†äº«æ–‡ç« ã€‚ å†…å®¹è¦†ç›– <a target="_blank" rel="noopener" href="https://github.com/xitu/gold-miner#android">Android</a>ã€ <a target="_blank" rel="noopener" href="https://github.com/xitu/gold-miner#ios">iOS</a>ã€ <a target="_blank" rel="noopener" href="https://github.com/xitu/gold-miner#%E5%89%8D%E7%AB%AF">å‰ç«¯</a>ã€ <a target="_blank" rel="noopener" href="https://github.com/xitu/gold-miner#%E5%90%8E%E7%AB%AF">åç«¯</a>ã€ <a target="_blank" rel="noopener" href="https://github.com/xitu/gold-miner#%E5%8C%BA%E5%9D%97%E9%93%BE">åŒºå—é“¾</a>ã€ <a target="_blank" rel="noopener" href="https://github.com/xitu/gold-miner#%E4%BA%A7%E5%93%81">äº§å“</a>ã€ <a target="_blank" rel="noopener" href="https://github.com/xitu/gold-miner#%E8%AE%BE%E8%AE%A1">è®¾è®¡</a>ã€ <a target="_blank" rel="noopener" href="https://github.com/xitu/gold-miner#%E4%BA%BA%E5%B7%A5%E6%99%BA%E8%83%BD">äººå·¥æ™ºèƒ½</a>ç­‰é¢†åŸŸï¼Œ æƒ³è¦æŸ¥çœ‹æ›´å¤šä¼˜è´¨è¯‘æ–‡è¯·æŒç»­å…³æ³¨ <a target="_blank" rel="noopener" href="https://github.com/xitu/gold-miner">æ˜é‡‘ç¿»è¯‘è®¡åˆ’</a>ã€ <a target="_blank" rel="noopener" href="http://weibo.com/juejinfanyi">å®˜æ–¹å¾®åš</a>ã€ <a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/juejinfanyi">çŸ¥ä¹ä¸“æ </a>ã€‚</p>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">æ–‡ç« ä½œè€…: </span><span class="post-copyright-info"><a href="mailto:undefined">YueYong</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">æ–‡ç« é“¾æ¥: </span><span class="post-copyright-info"><a href="https://blog.liangyueyong.cn/p/6804.html">https://blog.liangyueyong.cn/p/6804.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">ç‰ˆæƒå£°æ˜: </span><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://blog.liangyueyong.cn" target="_blank">æ–¯æ˜¯é™‹å®¤</a>ï¼</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E6%8E%98%E9%87%91%E7%BF%BB%E8%AF%91%E8%AE%A1%E5%88%92/">æ˜é‡‘ç¿»è¯‘è®¡åˆ’</a><a class="post-meta__tags" href="/tags/Android/">Android</a></div><div class="post_share"><div class="social-share" data-image="https://user-gold-cdn.xitu.io/2019/3/22/169a30ca76e5ad48?w=4000&amp;h=1190&amp;f=png&amp;s=66173" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/p/e593.html"><img class="prev-cover" src="https://user-gold-cdn.xitu.io/2018/11/16/1671a9358d506438?w=1280&amp;h=448&amp;f=jpeg&amp;s=55428" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">ã€è¯‘ã€‘åœ¨Androidä¸Šå®ç°Google Inboxæ ·å¼çš„åŠ¨ç”»</div></div></a></div><div class="next-post pull-right"><a href="/p/2d8c.html"><img class="next-cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" onerror="onerror=null;src='/img/404.jpg'"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">ã€è¯‘ã€‘å›ç­”æœ‰å…³Flutter APPå¼€å‘çš„é—®é¢˜</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span> ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/p/8245.html" title="ã€è¯‘ã€‘ä¸ºç”¨æˆ·æä¾›å®‰å…¨å¯é çš„ä½“éªŒ"><img class="cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-10</div><div class="title">ã€è¯‘ã€‘ä¸ºç”¨æˆ·æä¾›å®‰å…¨å¯é çš„ä½“éªŒ</div></div></a></div><div><a href="/p/e593.html" title="ã€è¯‘ã€‘åœ¨Androidä¸Šå®ç°Google Inboxæ ·å¼çš„åŠ¨ç”»"><img class="cover" src="https://user-gold-cdn.xitu.io/2018/11/16/1671a9358d506438?w=1280&h=448&f=jpeg&s=55428" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-10</div><div class="title">ã€è¯‘ã€‘åœ¨Androidä¸Šå®ç°Google Inboxæ ·å¼çš„åŠ¨ç”»</div></div></a></div><div><a href="/p/4e00.html" title="ã€è¯‘ã€‘JetPack Compose for Desktop åˆä½“éªŒ"><img class="cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-10</div><div class="title">ã€è¯‘ã€‘JetPack Compose for Desktop åˆä½“éªŒ</div></div></a></div><div><a href="/p/dfc1.html" title="ã€è¯‘ã€‘ä½¿ç”¨ SVG å’Œ Vue.Js æ„å»ºåŠ¨æ€æ ‘å›¾"><img class="cover" src="https://cdn-images-1.medium.com/max/2242/1*i9yyyuT1hxMj1K7ZGP4vDg.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-10</div><div class="title">ã€è¯‘ã€‘ä½¿ç”¨ SVG å’Œ Vue.Js æ„å»ºåŠ¨æ€æ ‘å›¾</div></div></a></div><div><a href="/p/3422.html" title="ã€è¯‘ã€‘Javascriptä¸­çš„call(), apply() å’Œ bind()"><img class="cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-10</div><div class="title">ã€è¯‘ã€‘Javascriptä¸­çš„call(), apply() å’Œ bind()</div></div></a></div><div><a href="/p/1daa.html" title="ã€è¯‘ã€‘Post-training é‡åŒ–"><img class="cover" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/img/default.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-06-10</div><div class="title">ã€è¯‘ã€‘Post-training é‡åŒ–</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> è¯„è®º</span></div></div><div class="comment-wrap"><div><div class="vcomment" id="vcomment"></div></div></div></div></div><div class="aside_content" id="aside_content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><img class="avatar-img" src="https://s1.ax1x.com/2020/09/08/wQQcbq.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">YueYong</div><div class="author-info__description">å‡¡æ˜¯è¿‡å¾€ï¼Œçš†ä¸ºåºç« </div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">163</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">50</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">8</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/YueYongDEV"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/YueYongDEV" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:yueyong1030@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div></div><div class="card-widget card-announcement"><div class="card-content"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>å…¬å‘Š</span></div><div class="announcement_content">å¾®ä¿¡å…¬ä¼—å·ã€Œ01äºŒè¿›åˆ¶ã€</div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="card-content"><div class="item-headline"><i class="fas fa-stream"></i><span>ç›®å½•</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A6%96%E5%85%88%E6%98%AF-AndroidX"><span class="toc-number">1.</span> <span class="toc-text">é¦–å…ˆæ˜¯ AndroidX</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8%EF%BC%9F"><span class="toc-number">2.</span> <span class="toc-text">æ€ä¹ˆä½¿ç”¨ï¼Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-%E5%BC%80%E5%90%AF%E6%94%AF%E6%8C%81"><span class="toc-number">2.1.</span> <span class="toc-text">1. å¼€å¯æ”¯æŒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-%E4%BD%BF%E7%94%A8-AndroidX-%E5%8A%A0%E8%BD%BD"><span class="toc-number">2.2.</span> <span class="toc-text">2. ä½¿ç”¨ AndroidX åŠ è½½</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E6%88%98"><span class="toc-number">3.</span> <span class="toc-text">å®æˆ˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B2%A1%E6%9C%89-compat-%E5%B1%9E%E6%80%A7%E7%9A%84%E8%A7%86%E5%9B%BE"><span class="toc-number">3.1.</span> <span class="toc-text">æ²¡æœ‰ compat å±æ€§çš„è§†å›¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B5%8C%E5%A5%97%E7%9A%84-drawables"><span class="toc-number">3.2.</span> <span class="toc-text">åµŒå¥—çš„ drawables</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%A4%96%E5%8A%A0%E8%BD%BD"><span class="toc-number">3.3.</span> <span class="toc-text">è¿›ç¨‹å¤–åŠ è½½</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#X-%E6%A0%87%E8%AE%B0%E7%82%B9"><span class="toc-number">4.</span> <span class="toc-text">X æ ‡è®°ç‚¹</span></a></li></ol></div></div></div><div class="card-widget card-recent-post"><div class="card-content"><div class="item-headline"><i class="fas fa-history"></i><span>æœ€æ–°æ–‡ç« </span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/p/c0e2.html" title="ç»™ç¼–è¯‘å™¨çœ‹çš„æ³¨é‡Šâ€”â€”ã€Œæ³¨è§£ã€"><img src="https://cdn.ytools.xyz/uPic/NS7lqsiShot2021-06-12%2000.58.18.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="ç»™ç¼–è¯‘å™¨çœ‹çš„æ³¨é‡Šâ€”â€”ã€Œæ³¨è§£ã€"/></a><div class="content"><a class="title" href="/p/c0e2.html" title="ç»™ç¼–è¯‘å™¨çœ‹çš„æ³¨é‡Šâ€”â€”ã€Œæ³¨è§£ã€">ç»™ç¼–è¯‘å™¨çœ‹çš„æ³¨é‡Šâ€”â€”ã€Œæ³¨è§£ã€</a><time datetime="2021-06-14T07:23:23.088Z" title="å‘è¡¨äº 2021-06-14 15:23:23">2021-06-14</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/p/ec8b.html" title="æœªé›¨ç»¸ç¼ªï¼Œå°ç±³å‰ç«¯å®ä¹ é¢ç»"><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gdk2ny4uugj30xo0he0yu.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æœªé›¨ç»¸ç¼ªï¼Œå°ç±³å‰ç«¯å®ä¹ é¢ç»"/></a><div class="content"><a class="title" href="/p/ec8b.html" title="æœªé›¨ç»¸ç¼ªï¼Œå°ç±³å‰ç«¯å®ä¹ é¢ç»">æœªé›¨ç»¸ç¼ªï¼Œå°ç±³å‰ç«¯å®ä¹ é¢ç»</a><time datetime="2021-06-10T11:50:25.448Z" title="å‘è¡¨äº 2021-06-10 19:50:25">2021-06-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/p/e834.html" title="è®¡ç®—æœºç›¸å…³ä¸“ä¸šå®ä¹ æŒ‡åŒ—"><img src="https://tva1.sinaimg.cn/large/007S8ZIlgy1gdquuna43wj30zk0quaf8.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="è®¡ç®—æœºç›¸å…³ä¸“ä¸šå®ä¹ æŒ‡åŒ—"/></a><div class="content"><a class="title" href="/p/e834.html" title="è®¡ç®—æœºç›¸å…³ä¸“ä¸šå®ä¹ æŒ‡åŒ—">è®¡ç®—æœºç›¸å…³ä¸“ä¸šå®ä¹ æŒ‡åŒ—</a><time datetime="2021-06-10T11:50:25.448Z" title="å‘è¡¨äº 2021-06-10 19:50:25">2021-06-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/p/4fa2.html" title="æä¸€æï¼Œå•è½¦å˜æ‘©æ‰˜ï¼Œè®°å½•ä¸€ä¸‹æˆ‘çš„æ·˜å®å®ä¹ é¢è¯•"><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gdk77kyd9vj30k40budh9.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="æä¸€æï¼Œå•è½¦å˜æ‘©æ‰˜ï¼Œè®°å½•ä¸€ä¸‹æˆ‘çš„æ·˜å®å®ä¹ é¢è¯•"/></a><div class="content"><a class="title" href="/p/4fa2.html" title="æä¸€æï¼Œå•è½¦å˜æ‘©æ‰˜ï¼Œè®°å½•ä¸€ä¸‹æˆ‘çš„æ·˜å®å®ä¹ é¢è¯•">æä¸€æï¼Œå•è½¦å˜æ‘©æ‰˜ï¼Œè®°å½•ä¸€ä¸‹æˆ‘çš„æ·˜å®å®ä¹ é¢è¯•</a><time datetime="2021-06-10T11:50:25.447Z" title="å‘è¡¨äº 2021-06-10 19:50:25">2021-06-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/p/d04f.html" title="åˆšå®Œä¸€æ³¢èš‚èšé‡‘æœçš„é¢è¯•åï¼Œä»–è¯´ä»–ç´¯äº†"><img src="https://tva1.sinaimg.cn/large/00831rSTgy1gdlnjvgiotj30x20kytfw.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="åˆšå®Œä¸€æ³¢èš‚èšé‡‘æœçš„é¢è¯•åï¼Œä»–è¯´ä»–ç´¯äº†"/></a><div class="content"><a class="title" href="/p/d04f.html" title="åˆšå®Œä¸€æ³¢èš‚èšé‡‘æœçš„é¢è¯•åï¼Œä»–è¯´ä»–ç´¯äº†">åˆšå®Œä¸€æ³¢èš‚èšé‡‘æœçš„é¢è¯•åï¼Œä»–è¯´ä»–ç´¯äº†</a><time datetime="2021-06-10T11:50:25.446Z" title="å‘è¡¨äº 2021-06-10 19:50:25">2021-06-10</time></div></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2017 - 2021 By YueYong</div><div class="framework-info"><span>æ¡†æ¶ </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>ä¸»é¢˜ </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="fas fa-cog"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="ç›´è¾¾è¯„è®º"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">æœ¬åœ°æœç´¢</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="æœç´¢æ–‡ç« " type="text"/></div></div></div><hr/><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function loadValine () {
  function initValine () {
    let initData = {
      el: '#vcomment',
      appId: 'U0W7ATmVTjBxWkHt96LR9Bj0-gzGzoHsz',
      appKey: 'uko1Os2bkFSID34qVRrgjCcX',
      placeholder: 'è®°å¾—ç•™ä¸‹ä½ çš„æ˜µç§°å’Œé‚®ç®±....å¯ä»¥å¿«é€Ÿæ”¶åˆ°å›å¤',
      avatar: 'monsterid',
      meta: 'nick,mail,link'.split(','),
      pageSize: '10',
      lang: 'zh-CN',
      recordIP: true,
      serverURLs: '',
      emojiCDN: '',
      emojiMaps: {"tv_doge":"6ea59c827c414b4a2955fe79e0f6fd3dcd515e24.png","tv_è¦ªè¦ª":"a8111ad55953ef5e3be3327ef94eb4a39d535d06.png","tv_å·ç¬‘":"bb690d4107620f1c15cff29509db529a73aee261.png","tv_å†è¦‹":"180129b8ea851044ce71caf55cc8ce44bd4a4fc8.png","tv_å†·æ¼ ":"b9cbc755c2b3ee43be07ca13de84e5b699a3f101.png","tv_ç™¼æ€’":"34ba3cd204d5b05fec70ce08fa9fa0dd612409ff.png","tv_ç™¼è²¡":"34db290afd2963723c6eb3c4560667db7253a21a.png","tv_å¯æ„›":"9e55fd9b500ac4b96613539f1ce2f9499e314ed9.png","tv_åè¡€":"09dd16a7aa59b77baa1155d47484409624470c77.png","tv_å‘†":"fe1179ebaa191569b0d31cecafe7a2cd1c951c9d.png","tv_å˜”å":"9f996894a39e282ccf5e66856af49483f81870f3.png","tv_å›°":"241ee304e44c0af029adceb294399391e4737ef2.png","tv_å£ç¬‘":"1f0b87f731a671079842116e0991c91c2c88645a.png","tv_å¤§ä½¬":"093c1e2c490161aca397afc45573c877cdead616.png","tv_å¤§å“­":"23269aeb35f99daee28dda129676f6e9ea87934f.png","tv_å§”å±ˆ":"d04dba7b5465779e9755d2ab6f0a897b9b33bb77.png","tv_å®³ç¾":"a37683fb5642fa3ddfc7f4e5525fd13e42a2bdb1.png","tv_å°·å°¬":"7cfa62dafc59798a3d3fb262d421eeeff166cfa4.png","tv_å¾®ç¬‘":"70dc5c7b56f93eb61bddba11e28fb1d18fddcd4c.png","tv_æ€è€ƒ":"90cf159733e558137ed20aa04d09964436f618a1.png","tv_é©šåš‡":"0d15c7e2ee58e935adc6a7193ee042388adc22af.png"},
      enableQQ: true,
      path: window.location.pathname,
    }

    if (true) { 
      initData.requiredFields= ('nick,mail'.split(','))
    }
    
    if (false) {
      const otherData = false
      initData = Object.assign({}, initData, otherData)
    }
    
    const valine = new Valine(initData)
  }

  if (typeof Valine === 'function') initValine() 
  else $.getScript('https://cdn.jsdelivr.net/npm/valine/dist/Valine.min.js', initValine)
}

if ('Valine' === 'Valine' || !false) {
  if (false) btf.loadComment(document.querySelector('#vcomment'),loadValine)
  else setTimeout(() => loadValine(), 0)
} else {
  function loadOtherComment () {
    loadValine()
  }
}</script><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></div></body></html>